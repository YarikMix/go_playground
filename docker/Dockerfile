# Используем официальный образ Go с версией, соответствующей вашему проекту
FROM golang:1.25.1-alpine

# Устанавливаем рабочую директорию
WORKDIR /app

# Копируем файлы модулей сначала для лучшего кэширования
COPY ./go.mod ./

# Загружаем зависимости
RUN go mod download

# Копируем исходный код
COPY ./main.go ./

# Собираем приложение
RUN go build -o main .

# Указываем команду для запуска приложения
CMD ["./main"]